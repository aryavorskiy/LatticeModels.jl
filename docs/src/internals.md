## Custom Bravais lattice types

!!! danger "Outdated docs"
    All information below is outdated and does not refer to the current functionality of the package.

It is quite likely that you will need more types of lattices than this package provides by default. In such cases you need to define a new type. Follow these steps:

**Create an exact alias**

Select a `Symbol` that will be the LatticeSym for this type and define an alias for the `Lattice{LatticeSym, N, NB}` type. The alias must not have any type parameters except for the dimension count if needed:

```julia
const HoneycombLattice = Lattice{:honeycomb, 2, 2}
const SquareLattice{N} = Lattice{:square, N, 1}
```

**Define the constructor**

The only positional arguments allowed are the macrocell size.[^1] The [`Bravais`](@ref) object must be generated in the constructor and passed to the default constructor `Lattice(sym, sz, bvs)`.

[^1]: This is done with purpose to achieve code consistency. Also in-place sublattice generation will almost certainly be broken. Use keyword arguments if you need additional parameters for some lattice type.

Let us define our own lattice type:
```@example env
const GrapheneLattice = Lattice{:graphene, 3, 2}
function GrapheneLattice(sz::Vararg{Int, 3})
    bvs = Bravais([1 1/2 0; 0 √3/2 0; 0 0 2], [0 1/2; 0 √3/6; 0 0])
    Lattice(:graphene, sz, bvs)
end
nothing # hide
```

A sublattice constructor will be generated by default:

```@example env
gl = GrapheneLattice(6, 6, 3) do (x, y, z)
    7 < x * √3 + y < 18
end
plot(gl, pretty=false)
```

!!! warning
    Please note that if the type alias is dimension-parametric, you must define the constructor *for a concrete type*, otherwise you will almost definitely break the lattice constructor dispatch:
    ```julia
    SquareLattice(sz::Vararg{Int, N}) where N = ...     # Wrong!
    SquareLattice{N}(sz::Vararg{Int, N}) where N = ...  # Correct
    ```
    In the second example `SquareLattice(sz::Vararg{Int, N}) where N` constructor will be generated automatically.

### Customizing plot recipes

!!! info "Docs under construction"
    This manual page is not written yet. I'm working on that. You can watch [a video on YouTube](https://www.youtube.com/watch?v=dQw4w9WgXcQ) meanwhile.

## Magnetic fields

!!! info "Docs under construction"
    This manual page is not written yet. I'm working on that. You can watch [a video on YouTube](https://www.youtube.com/watch?v=dQw4w9WgXcQ) meanwhile.
